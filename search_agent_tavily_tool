from dotenv import load_dotenv
load_dotenv()
from langchain.agents import create_agent
from langchain.tools import tool
from langchain_core.messages import HumanMessage
from langchain_cerebras import ChatCerebras
#from tavily import TavilyClient
from langchain_tavily import TavilySearch


# tavily= TavilyClient()

# @tool(description="Search for information based on a user query")
# def search(query: str) -> str:
#     print(f"searching for {query}")
#     return tavily.search(query=query)

llm= ChatCerebras(temperature=0,model="llama3.1-8b")
tools=[TavilySearch]
agent= create_agent(model=llm, tools=tools)

def main():
    result= agent.invoke({"messages": [HumanMessage(content="Search for three job postings of AI engineer who is using langchain, in the Bay area on LinkedIn and list their details.")]})
    print(result)

if __name__=="__main__":
    main()